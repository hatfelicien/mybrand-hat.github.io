<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>
<link rel="stylesheet" href="./css/dash.css">
</head>
<body>

  <header>
    <h1>Admin Dashboard</h1>
  </header>

  <nav>
    <a href="dashboard.html">Dashboard</a>
    <a href="comments.html">Comment</a>
    <a href="message.html">Messages</a>
    <a href="article.html">Article</a>
    <a href="add.html">Add Article</a>
    <a href="login.html">Logout</a>
  </nav>

  <div class="content">
    <div class="card">
  <main class="admin-content">
      <div id="contactList"></div>
  </main>

  <footer class="admin-footer">
      <p>&copy; 2024 Admin Dashboard</p>
  </footer>

  <script>
      // Function to display contact data
      function displayContacts() {
          // Get existing contact data from local storage
          var existingContacts = JSON.parse(localStorage.getItem('contacts')) || [];

          // Get the contactList div
          var contactListDiv = document.getElementById('contactList');

          // Display contact data
          if (existingContacts.length > 0) {
              for (var i = 0; i < existingContacts.length; i++) {
                  var contact = existingContacts[i];

                  // Create a container for each contact
                  var contactContainer = document.createElement('div');
                  contactContainer.classList.add('contact-container');

                  // Display contact details
                  contactContainer.innerHTML = `
                      <p><strong>Name:</strong> ${contact.name}</p>
                      <p><strong>Email:</strong> ${contact.email}</p>
                      <p><strong>Message:</strong> ${contact.message}</p>
                      <button class="del" onclick="deleteContact(${i})">Delete</button>
                      <button class="up" onclick="replyToContact('${contact.email}')">Reply</button>
                      <hr>
                  `;

                  // Append the contactContainer to contactListDiv
                  contactListDiv.appendChild(contactContainer);
              }
          } else {
              // Display a message if no contacts are available
              contactListDiv.innerHTML = '<p>No contacts available.</p>';
          }
      }

      // Function to delete a contact
      function deleteContact(index) {
          // Get existing contact data from local storage
          var existingContacts = JSON.parse(localStorage.getItem('contacts')) || [];

          // Remove the contact at the specified index
          existingContacts.splice(index, 1);

          // Save the updated contacts array to local storage
          localStorage.setItem('contacts', JSON.stringify(existingContacts));

          // Refresh the displayed contacts
          displayContacts();
      }

      // Function to reply to a contact (for demonstration purposes)
      function replyToContact(email) {
          alert('Replying to ' + email);
          // Add your reply functionality here
      }

      // Call the function to display contacts when the page loads
      window.onload = function () {
          displayContacts();
      };
  </script>
</div>
</div>
</body>
</html>
